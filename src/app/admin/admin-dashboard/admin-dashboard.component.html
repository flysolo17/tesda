<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

<div class="d-flex justify-content-between align-items-center mb-4 dashboard-header">
  <h3 class="fw-semibold mb-0">Admin Dashboard</h3>

  <div class="d-flex align-items-center gap-3">
    <!-- Notification Bell -->
    <div class="position-relative">
      <button class="btn btn-outline-secondary position-relative" id="notifBtn">
        <i class="bi bi-bell fs-5"></i>
        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
          3
        </span>
      </button>
      <!-- Notification Dropdown -->
      <div class="dropdown-menu dropdown-menu-end shadow-sm mt-2" id="notifDropdown">
        <h6 class="dropdown-header fw-semibold">Notifications</h6>
        <a class="dropdown-item" href="#">New booking request</a>
        <a class="dropdown-item" href="#">System update available</a>
        <a class="dropdown-item text-muted" href="#">View all</a>
      </div>
    </div>

    <!-- Profile Dropdown -->
    <div class="dropdown">
      <button
        class="btn btn-outline-secondary d-flex align-items-center gap-2"
        data-bs-toggle="dropdown"
        aria-expanded="false"
      >
        <img src="../../../assets/images/logo.png" alt="Profile" class="rounded-circle" width="32" height="32" />
        <span class="fw-semibold">Admin</span>
        <i class="bi bi-caret-down-fill"></i>
      </button>
      <ul class="dropdown-menu dropdown-menu-end shadow-sm mt-2">
        <li><a class="dropdown-item" href="#">Profile</a></li>
        <li><a class="dropdown-item" href="#">Settings</a></li>
        <li><hr class="dropdown-divider" /></li>
        <li><a class="dropdown-item text-danger" href="#">Logout</a></li>
      </ul>
    </div>
  </div>
</div>

<div class="container-fluid py-4 admin-dashboard">
<!-- === Stats Cards Row === -->
<div class="row g-4 mb-3">
  <div class="col-sm-6 col-lg-3">
    <div class="card dashboard-card bg-primary text-white shadow-sm">
      <div class="card-body">
        <p class="card-text mb-1">Total Services</p>
        <h4 class="card-title fw-semibold">0</h4>
      </div>
    </div>
  </div>

  <div class="col-sm-6 col-lg-3">
    <div class="card dashboard-card bg-success text-white shadow-sm">
      <div class="card-body">
        <p class="card-text mb-1">Completed Appointments</p>
        <h4 class="card-title fw-semibold">0</h4>
      </div>
    </div>
  </div>

  <div class="col-sm-6 col-lg-3">
    <div class="card dashboard-card bg-warning text-white shadow-sm">
      <div class="card-body">
        <p class="card-text mb-1">Pending Requests</p>
        <h4 class="card-title fw-semibold">0</h4>
      </div>
    </div>
  </div>

  <div class="col-sm-6 col-lg-3">
    <div class="card dashboard-card bg-info text-white shadow-sm">
      <div class="card-body">
        <p class="card-text mb-1">Active Users</p>
        <h4 class="card-title fw-semibold">0</h4>
      </div>
    </div>
  </div>
</div>


  <!-- === Charts Row 1 === -->
  <div class="row g-4 mb-3">
    <div class="col-lg-4">
      <div class="card shadow-sm p-3 h-100">
        <h6 class="fw-semibold mb-3">Visitors Overview</h6>
        <canvas baseChart
          [data]="visitorsChartData"
          [type]="visitorsChartType"
          [options]="visitorsChartOptions">
        </canvas>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card shadow-sm p-3 h-100">
        <h6 class="fw-semibold mb-3">Feedback Trends</h6>
        <canvas baseChart
          [data]="feedbackChartData"
          [type]="feedbackChartType"
          [options]="feedbackChartOptions">
        </canvas>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card shadow-sm p-3 h-100">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h6 class="fw-semibold mb-0">New Requests</h6>
          <span class="badge bg-danger">{{ newRequests.length }}</span>
        </div>

        <div *ngFor="let req of newRequests" class="request-card mb-2 p-2 border rounded d-flex justify-content-between align-items-center">
          <div>
            <p class="mb-1 text-primary fw-semibold">{{ req.title }}</p>
            <small class="text-muted">From: {{ req.from }}</small>
          </div>
          <button class="btn btn-outline-success btn-sm">View</button>
        </div>
      </div>
    </div>
  </div>

  <!-- === Charts Row 2 === -->
  <div class="row g-4">
    <div class="col-md-6">
      <div class="card shadow-sm p-3 h-100">
        <h6 class="fw-semibold mb-3">Service Distribution</h6>
        <canvas baseChart
          [data]="servicesChartData"
          [type]="servicesChartType"
          [options]="servicesChartOptions">
        </canvas>
      </div>
    </div>

    <div class="col-md-6">
      <div class="card shadow-sm p-3 h-100">
        <h6 class="fw-semibold mb-3">Activity Statistics</h6>
        <canvas baseChart
          [data]="activitiesChartData"
          [type]="activitiesChartType"
          [options]="activitiesChartOptions">
        </canvas>
      </div>
    </div>
  </div>
</div>
