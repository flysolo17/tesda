<!-- Navbar -->
<nav class="navbar navbar-dark bg-primary mb-4 shadow-sm">
  <div
    class="container-fluid d-flex justify-content-between align-items-center"
  >
    <span class="navbar-brand fs-4">TVET Providers & Assessment Centers</span>
    <div class="d-flex gap-2">
      <input
        class="form-control"
        type="search"
        placeholder="Search providers..."
        aria-label="Search"
        formControlName="search"
        style="max-width: 250px"
      />
      <button
        class="btn btn-success d-flex align-items-center gap-2"
        (click)="create()"
      >
        <i class="bi bi-plus-lg"></i> New
      </button>
    </div>
  </div>
</nav>

<!-- Table -->
<div class="container-fluid">
  <ng-container *ngIf="providers$ | async as providers">
    <div *ngIf="providers.length === 0" class="text-center text-muted py-5">
      <p>No providers found.</p>
    </div>

    <div class="table-responsive" *ngIf="providers.length > 0">
      <table
        class="table table-striped table-hover align-middle shadow-sm rounded overflow-hidden"
      >
        <thead class="table-light">
          <tr>
            <th>Name</th>
            <th>Type</th>

            <th>Address</th>
            <th>Contact</th>
            <th>Email</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let provider of providers; trackBy: trackById">
            <td>{{ provider.name }}</td>
            <td>{{ provider.type }}</td>
            <td>{{ provider.address }}</td>
            <td>{{ provider.contactNumber || "-" }}</td>
            <td>{{ provider.email || "-" }}</td>
            <td class="text-center">
              <div class="btn-group">
                <button
                  class="btn btn-sm btn-outline-primary"
                  (click)="create(provider)"
                >
                  <i class="bi bi-pencil-fill"></i>
                </button>
                <button
                  class="btn btn-sm btn-outline-danger"
                  (click)="delete(provider.id)"
                >
                  <i class="bi bi-trash-fill"></i>
                </button>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </ng-container>
</div>
