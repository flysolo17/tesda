<div class="container-fluid p-3 m-auto responsive-card">
  <div class="card shadow-sm" *ngIf="user$ | async as user">
    <div class="card-body text-center">
      <!-- Profile Image -->

      <!-- Info Grid -->
      <div class="row text-start justify-content-center mb-3 p-3">
        <div class="col-md-4">
          <div class="position-relative d-inline-block mb-3">
            <!-- Profile Image or Placeholder -->
            <img
              *ngIf="user?.profile"
              [src]="user.profile"
              alt="Profile"
              class="rounded-circle"
              width="100"
              height="100"
            />
            <div *ngIf="!user?.profile" class="placeholder-icon">
              <i class="bi bi-person-circle fs-1 text-muted"></i>
            </div>

            <!-- Upload Trigger -->
            <label for="profileUpload" class="upload-overlay">
              <i class="bi bi-camera-fill text-white"></i>
            </label>
            <input
              type="file"
              id="profileUpload"
              accept="image/*"
              hidden
              (change)="onProfileSelected($event, user)"
            />
          </div>
          <!-- Name and Type -->
          <h4 class="card-title mb-1">{{ user.name }}</h4>
          <p class="text-muted mb-3 text-uppercase small">{{ user.type }}</p>
        </div>
        <div class="col-md-8">
          <div class="row text-start justify-content-center mb-3">
            <div class="col-md-6 mb-2">
              <label class="contact-label">EMAIL</label>
              <div class="contact-value">{{ user.email }}</div>
            </div>
            <div class="col-md-6 mb-2">
              <label class="contact-label">GENDER</label>
              <div class="contact-value">{{ user.gender }}</div>
            </div>
            <div class="col-md-6 mb-2">
              <label class="contact-label">AGE</label>
              <div class="contact-value">{{ user.age }}</div>
            </div>
            <div class="col-md-6 mb-2">
              <label class="contact-label">JOINED</label>
              <div class="contact-value">
                {{ user.createdAt | date : "mediumDate" }}
              </div>
            </div>
            <!-- Action Buttons -->
            <div class="col-md-12 d-flex gap-3 mt-3">
              <button
                class="btn btn-outline-success"
                (click)="editProfile(user)"
              >
                <i class="bi bi-pencil-square me-1"></i> Edit Profile
              </button>
              <button class="btn btn-danger" (click)="logout()">
                <i class="bi bi-box-arrow-right me-1"></i> Logout
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
